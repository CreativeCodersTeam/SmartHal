@page "/gateways"
@using CreativeCoders.SmartHal.Web.Api.Client
@using CreativeCoders.SmartHal.Web.Api.Core.Models
@using CreativeCoders.SmartHal.Web.CommandCenter.Client.ViewModels

@inject GatewaysViewModel _gatewaysViewModel


<PageHeader Icon="carbon:gateway-api" Text="Gateways" />


<RadzenButton Click="async () => { await _gatewaysViewModel.RefreshAsync(); }" Style="margin: 10px">
    <Iconify Icon="mdi:refresh" />
</RadzenButton>

<RadzenDataGrid Data="@_gatewaysViewModel.Gateways" TItem="GatewayModel">
    <Columns>
        <RadzenDataGridColumn TItem="GatewayModel" Property="Id" Title="Id" />
        <RadzenDataGridColumn TItem="GatewayModel" Property="Name" Title="Name" />
        <RadzenDataGridColumn TItem="GatewayModel" Property="State" Title="State" />
    </Columns>
    
</RadzenDataGrid>

@code {
    protected override async Task OnInitializedAsync()
    {
        await _gatewaysViewModel.RefreshAsync();
    }

}
