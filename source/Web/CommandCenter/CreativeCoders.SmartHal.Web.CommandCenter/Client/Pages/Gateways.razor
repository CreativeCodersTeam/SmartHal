@page "/gateways"
@using CreativeCoders.SmartHal.Web.CommandCenter.Client.ViewModels


<PageHeader Icon="@Icons.Gateways" Text="@Localizer[Texts.Gateways]" />

<RadzenButton Click="async () => { await ViewModel.RefreshAsync(); }" Style="margin: 10px">
    <Iconify Icon="@Icons.Refresh" />
</RadzenButton>

<RadzenDataGrid Data="@ViewModel.Gateways" TItem="GatewayModel">
    <Columns>
        <RadzenDataGridColumn TItem="GatewayModel" Property="Id" Title="@Localizer[Texts.Id]" />
        <RadzenDataGridColumn TItem="GatewayModel" Property="Name" Title="@Localizer[Texts.Name]" />
        <RadzenDataGridColumn TItem="GatewayModel" Property="State" Title="@Localizer[Texts.State]" />
    </Columns>
    
</RadzenDataGrid>


@code {
    [Inject]
    public IExtendedStringLocalizer<Gateways> Localizer { get; set; }

    [Inject]
    public GatewaysViewModel ViewModel { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await ViewModel.RefreshAsync();
    }
}
